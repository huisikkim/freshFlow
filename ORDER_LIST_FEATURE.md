# 주문 내역 조회 기능 구현 완료 ✅

## 새로 추가된 기능

### 1. 주문 목록 페이지 (`OrderListPage`)
**위치:** `lib/presentation/pages/order_list_page.dart`

**기능:**
- ✅ 주문 내역 목록 조회
- ✅ 주문 상태별 색상 표시
- ✅ 주문 날짜, 유통업체, 상품 정보 표시
- ✅ 총 결제 금액 표시
- ✅ Pull-to-refresh (아래로 당겨서 새로고침)
- ✅ 빈 목록 처리
- ✅ 에러 처리 및 재시도
- ✅ 주문 클릭 시 상세 페이지로 이동

**주문 상태별 색상:**
- 🟡 주문대기 (PENDING) - 노란색
- 🔵 주문확정 (CONFIRMED) - 파란색
- 🟣 상품준비중 (PREPARING) - 보라색
- 🔷 배송중 (SHIPPED) - 청록색
- 🟢 배송완료 (DELIVERED) - 초록색
- 🔴 주문취소 (CANCELLED) - 빨간색

### 2. 주문 상세 페이지 (`OrderDetailPage`)
**위치:** `lib/presentation/pages/order_detail_page.dart`

**기능:**
- ✅ 주문 상태 표시 (아이콘 + 색상)
- ✅ 주문 정보 (주문번호, 유통업체, 주문일시)
- ✅ 주문 상품 목록 (상품명, 수량, 단가, 소계)
- ✅ 배송 정보 (주소, 연락처, 희망 배송일, 요청사항)
- ✅ 결제 정보 (상품 금액, 배송비, 총 결제 금액)

### 3. 홈 페이지 메뉴 추가
**위치:** `lib/presentation/pages/home_page.dart`

**변경사항:**
- ✅ 가게 사장님 메뉴에 "주문 내역" 추가 (맨 위에 배치)
- ✅ 초록색 아이콘 (receipt_long)
- ✅ OrderProvider 연결

## 사용 흐름

```
홈 페이지
  ↓
[주문 내역] 클릭
  ↓
주문 목록 페이지
  - 주문 목록 표시
  - 아래로 당겨서 새로고침
  ↓
주문 카드 클릭
  ↓
주문 상세 페이지
  - 주문 상태
  - 주문 정보
  - 주문 상품
  - 배송 정보
  - 결제 정보
```

## 화면 구성

### 주문 목록 페이지
```
┌─────────────────────────────┐
│  ← 주문 내역                 │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │ 2025.11.26 21:22      │  │
│  │ 김유통          [주문대기] │  │
│  ├───────────────────────┤  │
│  │ 쌀              1포    │  │
│  ├───────────────────────┤  │
│  │ 총 결제 금액   3,500원  │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 2025.11.26 21:19      │  │
│  │ 김유통          [주문대기] │  │
│  ├───────────────────────┤  │
│  │ 쌀              1포    │  │
│  ├───────────────────────┤  │
│  │ 총 결제 금액   3,500원  │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

### 주문 상세 페이지
```
┌─────────────────────────────┐
│  ← 주문 상세                 │
├─────────────────────────────┤
│                             │
│  ┌───────────────────────┐  │
│  │       🟡              │  │
│  │     주문대기           │  │
│  │ 2025년 11월 26일 21:22 │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 주문 정보              │  │
│  │ 주문번호: 2            │  │
│  │ 유통업체: 김유통        │  │
│  │ 주문일시: 2025.11.26   │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 주문 상품              │  │
│  │ 쌀                    │  │
│  │ 3,500원/포 × 1포      │  │
│  │              3,500원  │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 배송 정보              │  │
│  │ 배송 주소: 1111        │  │
│  │ 연락처: 010-7114-3826  │  │
│  │ 희망 배송일: 2025.11.27│  │
│  │ 요청사항: 1111         │  │
│  └───────────────────────┘  │
│                             │
│  ┌───────────────────────┐  │
│  │ 결제 정보              │  │
│  │ 상품 금액    3,500원   │  │
│  │ 배송비          0원    │  │
│  │ ─────────────────────  │  │
│  │ 총 결제 금액  3,500원  │  │
│  └───────────────────────┘  │
│                             │
└─────────────────────────────┘
```

## API 연동

### 주문 목록 조회
```dart
GET /api/catalog-orders?storeId=김가게

Headers:
  Authorization: Bearer {token}

Response:
[
  {
    "id": 2,
    "storeId": "김가게",
    "distributorId": "김유통",
    "orderNumber": "ORD-20251126-212221-998",
    "items": [...],
    "totalAmount": 3500,
    "status": "PENDING",
    ...
  }
]
```

## 주요 특징

### 1. 상태 관리
- OrderProvider를 통한 중앙 집중식 상태 관리
- 로딩, 성공, 에러 상태 처리

### 2. UI/UX
- 직관적인 색상 코딩 (상태별)
- 아이콘을 통한 시각적 표현
- 부드러운 애니메이션 (InkWell)
- Pull-to-refresh 지원

### 3. 에러 처리
- 네트워크 오류 처리
- 빈 목록 처리
- 재시도 기능

### 4. 반응형 디자인
- 다양한 화면 크기 지원
- 스크롤 가능한 레이아웃

## 파일 구조

```
lib/
├── presentation/
│   ├── pages/
│   │   ├── order_list_page.dart          ✅ 새로 추가
│   │   ├── order_detail_page.dart        ✅ 새로 추가
│   │   ├── home_page.dart                ✅ 수정
│   │   └── order_confirmation_page.dart  (기존)
│   └── providers/
│       └── order_provider.dart           (기존)
├── domain/
│   └── entities/
│       └── order.dart                    (기존)
└── data/
    ├── models/
    │   └── order_model.dart              (기존)
    └── datasources/
        └── order_remote_data_source.dart (기존)
```

## 다음 단계 (선택사항)

- [ ] 주문 취소 기능 (취소 가능한 상태에서만)
- [ ] 주문 상태 필터링 (전체/대기/확정/배송중 등)
- [ ] 주문 검색 기능
- [ ] 재주문 기능
- [ ] 주문 상태 변경 알림
- [ ] 주문 내역 엑셀 다운로드

## 테스트 시나리오

1. ✅ 홈 페이지에서 "주문 내역" 클릭
2. ✅ 주문 목록 표시 확인
3. ✅ 주문 카드 클릭하여 상세 페이지 이동
4. ✅ 주문 상세 정보 확인
5. ✅ 뒤로가기로 목록으로 돌아가기
6. ✅ 아래로 당겨서 새로고침

## 완료! 🎉

이제 사용자는 다음을 할 수 있습니다:
1. 홈 페이지에서 "주문 내역" 메뉴 클릭
2. 주문한 내역 목록 확인
3. 주문을 클릭하여 상세 정보 확인
4. 주문 상태, 상품, 배송 정보, 결제 정보 확인
